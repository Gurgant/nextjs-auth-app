# Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values

# =================================
# CORE APPLICATION
# =================================
NODE_ENV=production
PORT=3000

# =================================
# DATABASE
# =================================
# PostgreSQL connection string with SSL enabled for production
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://username:password@your-postgres-host:5432/your_database?sslmode=require

# =================================
# NEXTAUTH CONFIGURATION
# =================================
# Full production URL (must use HTTPS)
NEXTAUTH_URL=https://yourdomain.com

# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-32-character-secret-here

# =================================
# OAUTH PROVIDERS
# =================================
# Google OAuth credentials (create at https://console.cloud.google.com)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# =================================
# SECURITY
# =================================
# Generate with: openssl rand -hex 32 (must be exactly 64 characters)
ENCRYPTION_KEY=your-64-character-hex-key-for-two-factor-auth-encryption-here

# =================================
# EMAIL CONFIGURATION
# =================================
# SMTP server configuration
EMAIL_SERVER_HOST=smtp.your-provider.com
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=your-smtp-username
EMAIL_SERVER_PASSWORD=your-smtp-password-or-app-specific-password
EMAIL_FROM=noreply@yourdomain.com

# =================================
# OPTIONAL SERVICES
# =================================
# Redis for session storage (recommended for production)
# REDIS_URL=redis://username:password@your-redis-host:6379

# Error tracking (recommended for production monitoring)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Analytics tracking ID
# ANALYTICS_ID=GA-XXXXXXXXX-X

# =================================
# LOGGING
# =================================
# Log level: debug, info, warn, error, fatal
LOG_LEVEL=info

# =================================
# FEATURE FLAGS
# =================================
# Enable/disable features
ENABLE_2FA=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_ACCOUNT_LINKING=true

# =================================
# ADDITIONAL PRODUCTION SETTINGS
# =================================
# These are automatically set by Next.js in production builds
# NEXT_TELEMETRY_DISABLED=1  # Uncomment to disable Next.js telemetry

# =================================
# DEPLOYMENT-SPECIFIC (Platform-dependent)
# =================================
# Add any platform-specific environment variables here
# 
# For Vercel:
# VERCEL_URL is automatically provided
#
# For Railway:
# PORT is automatically provided
#
# For AWS:
# Add any AWS-specific variables
#
# For DigitalOcean:
# Add any DO-specific variables

# =================================
# SECURITY NOTES
# =================================
# 1. Never commit this file with actual values to version control
# 2. Use different credentials for each environment (dev/staging/prod)
# 3. Rotate secrets regularly
# 4. Use strong, unique passwords
# 5. Enable 2FA on all external service accounts
# 6. Monitor for credential exposure in logs
# 7. Use infrastructure-as-code for consistent deployments
# 8. Keep this template updated as new variables are added

# =================================
# VALIDATION
# =================================
# After setting up, test your configuration with:
# 1. pnpm run build
# 2. pnpm run start
# 3. Visit /api/health to verify all services
# 4. Visit /api/admin/metrics (when authenticated)
# 5. Run authentication flow end-to-end